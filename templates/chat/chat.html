{% load static %}


<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="{% static 'css/chat/chat.css' %}"> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<title>Document</title>

<style>


#send-message-form{

display: flex;
align-items: center;
}

.input-message{
flex: 1;                /* Allows the input to grow and take up available space */
margin-right: 10px; 

}
.username{
font-size: 18px;
font-weight: 600;
margin-left: 3px ;
display: inline;
}

.chat-msg {
display: flex;
align-items: flex-start;
margin: 10px 0; /* Space between messages */
padding: 10px; /* Padding around message */
border-radius: 10px; /* Rounded corners */
position: relative; /* For date positioning */
max-width: 70%; /* Limit the width of messages */
}

/* Styles for sent messages */
.chat-msg.sent {
background-color: #d1f0d1; /* Light green background */
align-self: flex-end; /* Align to the right */
margin-left: auto; /* Push sent messages to the right */
}

/* Styles for received messages */
.chat-msg.received {
background-color: #f0f0f0; /* Light grey background */
align-self: flex-start; /* Align to the left */
}

/* Profile image styles */
.chat-msg-profile {
margin-right: 10px; /* Space between image and message */
}

.chat-msg-img {
width: 40px; /* Width of the profile image */
height: 40px; /* Height of the profile image */
border-radius: 50%; /* Make image circular */
}

/* Date message styles */
.chat-msg-date {
font-size: 12px; /* Smaller font for date */
color: #888; /* Grey color */
margin-top: 5px; /* Space above date */
}

/* Content styles */
.chat-msg-content {
flex: 1; /* Allow content to take remaining space */
}

/* Message text styles */
.chat-msg-text {
font-size: 16px; /* Font size for the message text */
line-height: 1.5; /* Line height for better readability */
}

/* From Uiverse.io by CristianMontoya98 */
.logout-btn {
width: 6em; /* Default width for medium screens */
height: 2.5em; /* Default height */
margin: 0.5em;
background: #0086ff;
color: white;
border: none;
border-radius: 0.625em;
font-size: 16px; /* Slightly smaller font size for better fit */
font-weight: 600;
font-family: 'Arial', sans-serif;
cursor: pointer;
position: relative;
z-index: 1;
overflow: hidden;
text-align: center;
}

.logout-btn:hover {
color: black;
}

.logout-btn:after {
content: "";
background: white;
position: absolute;
z-index: -1;
left: -20%;
right: -20%;
top: 0;
bottom: 0;
transform: skewX(-45deg) scale(0, 1);
transition: all 0.5s;
}

.logout-btn:hover:after {
transform: skewX(-45deg) scale(1, 1);
-webkit-transition: all 0.5s;
transition: all 0.5s;
}

/* Responsive styles */
@media (max-width: 768px) {
.logout-btn {
width: 5em; /* Adjust width for smaller screens */
height: 2.2em; /* Adjust height */
font-size: 14px; /* Smaller font size for better readability */
}
}

@media (max-width: 480px) {
.logout-btn {
width: 4.5em; /* Further adjust width for very small screens */
height: 2em; /* Smaller height */
font-size: 12px; /* Even smaller font size for compact screens */
}
}


.hide {
display: none;
}

.is_active {
display: block; /* or whatever style you need */
}
.classy-button {
background-color: #0086ff; /* Custom blue background */
color: white;              /* White text */
padding: 10px 15px;        /* Medium padding */
border: 4px solid #005bb5; /* Thicker and darker blue border (4px) */
border-radius: 0;          /* No rounded corners */
font-size: 18px;           /* Medium font size */
cursor: pointer;          /* Pointer cursor on hover */
transition: background-color 0.3s ease, border-color 0.3s ease; /* Smooth transition for background and border color */
display: inline-flex;      /* Align icon and text */
align-items: center;       /* Center icon vertically */
margin-left: 30px;         /* Space between button and other elements */
}

.classy-button:hover {
background-color: #0073e6; /* Darker blue on hover */
}

.classy-button i {
margin-left: 8px;          /* Space between text and icon */
}

.contact-li .thread-link {
text-decoration: none; /* Remove the underline */
color: inherit; /* Make the link text inherit the parent text color */
}

.contact-li .thread-link:hover {
text-decoration: none; /* Ensure no underline on hover */

}

/* Base styles for the container and text */
#user-title {
padding: 20px;
font-family: Arial, sans-serif;
}

.welcome-message {
font-size: 18px;
font-weight: 600;
margin-left: 30px;
display: inline-block; /* Keeps the text inline with username */
}

.username {
font-size: 24px;
color: #007bff; /* Primary color for username */
margin-top: 20px;
display: inline-block;
}

.access-denied {
font-size: 18px;
color: red;
margin-left: 30px;
}

/* Responsive styles for small screens (mobile-first approach) */
@media (max-width: 768px) {
#user-title {
  padding: 15px;

}

.welcome-message {
  font-size: 16px;
  margin-left: 0; /* Remove the left margin */
  text-align: center; /* Center-align the text */
}

.username {
  font-size: 20px;
  margin-top: 20px;

}

.access-denied {
  font-size: 16px;
  margin-left: 0; /* Remove the left margin */
  text-align: center; /* Center-align the access denied message */
}
}

/* Additional styling for very small screens (portrait mobile devices) */
@media (max-width: 480px) {
.username {
  font-size: 18px; /* Smaller font size for very small screens */
}

.access-denied {
  font-size: 14px; /* Smaller font size for "Access Denied" on very small screens */
}
}

.create-contact-link {
display: inline-block;
padding: 5px 12px; /* Slightly smaller padding for compact size */
font-size: 12px; /* Smaller font size for a balanced look */
font-weight: 500; /* Slightly bold to maintain legibility */
color: #fff;
background-color: #007bff; /* Primary blue color */
border: 2px solid #007bff; /* Matching blue border */
border-radius: 25px; /* Pill-shaped border with moderate roundness */
text-align: center;
text-decoration: none;
letter-spacing: 0.5px; /* Light letter spacing for better readability */
text-transform: uppercase; /* Clean, sharp uppercase text */
transition: all 0.3s ease-out; /* Smooth transition for hover effects */
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
margin-left: 15px; /* Moderate margin on the left */
}

/* Hover effect */
.create-contact-link:hover {
color: #007bff; /* Text turns to blue on hover */
background-color: #fff; /* Background turns white */
border-color: #007bff; /* Border turns blue on hover */
transform: translateY(-2px); /* Subtle lift effect */
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Slightly deeper shadow on hover */
}

/* Focus state for accessibility */
.create-contact-link:focus {
outline: none; /* Remove default outline */
box-shadow: 0 0 6px rgba(0, 0, 0, 0.2); /* Focus glow */
}

/* Responsive adjustments for smaller screens */
@media (max-width: 768px) {
.create-contact-link {
font-size: 11px; /* Smaller font size for medium screens */
padding: 5px 10px; /* Adjusted padding for medium screens */
margin-left: 10px; /* Slightly smaller margin for medium screens */
}
}

/* Very small screens (portrait phones) */
@media (max-width: 480px) {
.create-contact-link {
font-size: 10px; /* Even smaller font size for tiny screens */
padding: 4px 8px; /* Smaller padding for compact screens */
margin-left: 8px; /* Smaller margin for very small screens */
}
}

/* Standard styling for the chat area header */
.chat-area-header {

padding: 20px; /* Add some padding for spacing */
border-bottom: 0px; /* Subtle border for separation */
display: flex; /* Use flexbox for layout */
align-items: center; /* Vertically center the items */
justify-content: flex-start; /* Align items to the left */

}

/* Profile container styling */
.profile-container {
display: flex;
align-items: center; /* Center profile image and text vertically */
gap: 15px; /* Space between image and text */
}

/* Profile picture styling */
.profile-pic {
width: 50px; /* Size of the profile image */
height: 50px; /* Make it a square */
border-radius: 50%; /* Make the image circular */
object-fit: cover; /* Ensure the image covers the circular area */
border: 0px solid #007bff; /* Optional: Border around the profile image */
}

/* Chat title styling */
.chat-title {
font-size: 1.2rem; /* Standard readable size */
font-weight: 500; /* Slightly bold for the title */
color: #333; /* Dark gray text for readability */
margin: 0; /* Remove any default margin */
line-height: 1.4; /* Proper line height for better spacing */
}

/* Username styling */
.chat-title span {
color: #007bff; /* Blue color for the username to highlight */
}

/* Responsive styling for smaller screens */
@media (max-width: 768px) {
.chat-area-header {
display: flex; /* Use flexbox to align items inline */
justify-content: center; /* Center the items horizontally */
align-items: center; /* Center the items vertically */
padding: 15px; /* Reduce padding for smaller screens */
}

.footer-item{
  display:none;
}

.profile-container {
  flex-direction: column; /* Stack profile image and text vertically */
  align-items: center; /* Center align the profile image and text */
  text-align: center; /* Center align the text */
}

.profile-pic {
  margin-top: 6px;
  width: 40px; /* Smaller profile image for mobile */
  height: 40px; /* Maintain the circle shape */
  margin-bottom: 8px; /* Add space between image and text */
}

.chat-title {
  font-size: 1rem; /* Slightly smaller text for mobile */
}
}

/* For small screens (<= 768px) */
@media (max-width: 768px) {

div::-webkit-scrollbar {
    display: none;  /* For Chrome, Safari, and newer Edge */
}

.conversation-area {
display: block;   /* Conversation area is visible initially */
width: 100%;      /* Take full width on mobile */
height: 100%;     /* Full screen height */
}

.chat-area {
display: none;    /* Hide chat area initially */
width: 100%;      /* Make sure chat area takes full width */
height: 100vh;    /* Full height on mobile */
}

/* When the chat area is triggered to show */
.chat-area.show {
display: block;   /* Show chat area */
}

/* When the conversation area is hidden after a contact is selected */
.conversation-area.hide {
display: none;    /* Hide conversation area */
}

/* Optional: Adjust chat area for when it is visible (takes full width) */
.chat-area.show {
position: absolute;
top: 0;           /* Pin to the top of the screen */
left: 0;
right: 0;
bottom: 0;

z-index: 10;
overflow-y: auto;
}

.chat-area-footer {
  position: fixed;
  bottom: 0;
  width: 100%;

  padding: 10px;
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
  display: flex; /* Enable Flexbox */
  justify-content: center; /* Horizontally center content */
  align-items: center; /* Vertically center content */
  gap: 10px; /* Add space between all items */
}

/* Ensure the form inputs remain in the footer */
.input-message {
width: calc(100% - 50px); /* Ensure the input takes full width minus button width */
padding: 10px;
border-radius: 5px;
box-sizing: border-box;
}

.classy-button {
padding: 10px;
border: none;
background-color: #007bff;
color: white;
cursor: pointer;
}

.classy-button:hover {
background-color: #0056b3;
}
}

/* For large screens (>= 769px) */
@media (min-width: 769px) {
.conversation-area {
display: block;   /* Always show conversation area on large screens */
}

.chat-area {
display: block;   /* Always show chat area on large screens */
width: 70%;       /* Adjust the width of chat area */
float: right;
}
}

/* Basic Styling for the contact list */
.contact-li {
list-style-type: none;
padding: 10px;
cursor: pointer; /* Makes the list item look clickable */

}

/* Active state styling when selected */
.contact-li.active {

border-left: 5px solid #007bff; /* Add a blue left border to show it's selected */
}



/* Add styles for the contact button */
.contact-button {
display: flex;
align-items: center;
justify-content: space-between;
text-decoration: none; /* Remove default link styles */
color: inherit; /* Ensure text color is not changed by anchor tag styles */
}

.msg-profile {
width: 40px;
height: 40px;
border-radius: 50%;
margin-right: 15px;
}

.msg-detail {
flex-grow: 1;
}

.msg-username {
font-weight: bold;
}

.msg-content {
font-size: 14px;
color: #555;
}

.msg-date {
font-size: 12px;
color: #aaa;
margin-left: 10px;
}

.msg-message {
font-size: 14px;
}

@media (max-width: 768px) {
  div::-webkit-scrollbar {
    display: none;  /* For Chrome, Safari, and newer Edge */
}
.conversation-area {
display: block; /* Conversation area is visible initially */
width: 100%; /* Take full width on mobile */
height: 100%; /* Full screen height */
}

.chat-area {
display: none; /* Hide chat area initially */
width: 100%; /* Make sure chat area takes full width */
height: 100vh; /* Full height on mobile */
}

/* When the chat area is triggered to show */
.chat-area.show {
display: block; /* Show chat area */
}

.chat-area-footer {
position: fixed;
bottom: 0;
width: 100%;

padding: 10px;
box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);

}

.input-message {
width: calc(100% - 50px); /* Ensure the input takes full width minus button width */
padding: 10px;
border-radius: 5px;
border: 1px solid #ccc;
box-sizing: border-box;
}

.classy-button {
padding: 10px;
border: none;
background-color: #007bff;
color: white;
cursor: pointer;
}

.classy-button:hover {
background-color: #0056b3;
}



}

/* Main chat area container */
.chat-area-main {
display: flex;  /* Use flexbox for layout */
flex-direction: column;  /* Stack items vertically */
height: 100vh;  /* Take up the full height of the viewport */
padding: 20px;

box-sizing: border-box;
overflow: hidden;  /* Prevent scroll in the main chat area */
overflow-x: auto;
}

/* Chat message container, this area will handle scrolling for messages only */
.chat-msg-container {
flex-grow: 1;  /* Make it grow to fill available space */
overflow-y: auto;  /* Allow scrolling of chat messages */
padding-right: 10px;  /* Add some space for the scroll */
}

/* Footer for the input field, fixed at the bottom */
.chat-area-footer {
width: 100%;


padding: 10px 20px;
display: flex;
align-items: center;
box-sizing: border-box;
position: relative;
padding-top: 10px;
padding-bottom: 10px;
position: sticky;  /* Keep the input at the bottom */
bottom: 0;
}

/* Input message field styling */
.input-message {
flex-grow: 1;  /* Make the input take all available space */
padding: 10px;

border-radius: 20px;
font-size: 14px;
margin-right: 10px; /* Space between input and send button */
box-sizing: border-box;
overflow-wrap: break-word;
max-width: 100%; /* Prevent overflow */
height: 40px;  /* Set a height for the input box */
position: relative;
}

/* Send button styling */
.classy-button {
display: flex;
align-items: center;
justify-content: center;
background-color: #007bff;
border: none;
padding: 10px;
border-radius: 50%;
color: white;
cursor: pointer;
font-size: 18px;
}

.classy-button:hover {
background-color: #0056b3;
}

.back-button{
  display: none;
}


/* Show the back button only on mobile devices */
@media (max-width: 669px) {
  div::-webkit-scrollbar {
    display: none;  /* For Chrome, Safari, and newer Edge */
}

    .logo{
      display: none;
    }
    
    .chat-area-header {
        display: flex;
        align-items: center;
        justify-content: center; /* Center the profile container */
        position: relative;
    }

    /* Back Button: Position it to the left */
    .back-button {
        position: absolute;
        left: 10px; /* Place the button on the left */
        top: 50%; /* Vertically center the button */
        transform: translateY(-50%); /* Adjust vertical position */
        background-color: #007bff;
        color: white;
        padding: 10px 15px;
        border-radius: 15px;
        text-decoration: none;
        font-size: 16px;
        z-index: 10; /* Ensure it's on top of other elements */
        display: inline-block; /* Ensure it's visible */
    }

    .back-button button {
        background: none;
        
        color: white;
        cursor: pointer;
    }

    .back-button:hover {
        background-color: #0056b3;
    }

    /* Profile Container: Center profile picture and username */
    .profile-container {
        display: flex;
        align-items: center;
        justify-content: center; /* Center content horizontally */
    }

    /* Profile Pic style */
    .profile-pic {
        margin-right: 10px;
    }

    /* Chat title style */
    .chat-title {
        margin: 0;
    }
}

/* Hide the chat area */
.chat-area.hide {
  display: none;
}

/* Show the contact list and header when needed */
.contact-list.show {
  display: block;
}

.header.show {
  display: block;
}

/* Initially hide the header and contact list when on the chat page */

.contact-list {
  display: none;
}
.mob-user-profile{
  display: none;
}
/* Show the image on mobile devices (e.g., screen width <= 768px) */
@media only screen and (max-width: 532px) {
  div::-webkit-scrollbar {
    display: none;  /* For Chrome, Safari, and newer Edge */
}
  .mob-user-profile {
      display: block;
      width: 40px;
      height: 40px;
      border-radius: 60%;
  }
}
@media only screen and (max-width: 550px) {
  .chat-area-main::-webkit-scrollbar {
    display: none; /* Hide the scrollbar */
}
  .user-profile {
      display: none;
  }
}

@media (max-width: 532px) {

  div::-webkit-scrollbar {
    display: none;  /* For Chrome, Safari, and newer Edge */
}
  .logo{
    display: none;
  }

}
@media (min-width: 533px) {
  .chat-area-main::-webkit-scrollbar {
    display: none; /* Hide the scrollbar */
}
  .logo {
    display: block;
  }
}


@media (max-width: 405px) {
    div::-webkit-scrollbar {
      display: none;  /* For Chrome, Safari, and newer Edge */
  }
    .header {
      padding:5px;
      align-items: center;  /* Center items in header */
      width: 100%;
    }
  
    .username {
      font-size: 15px;  /* Slightly smaller text for mobile */
      margin-bottom: 8px;  /* Less space between elements */
      width: 90%;  /* Reduce width to fit within smaller screen */
      text-align: center;  /* Ensure text is centered */
      padding-right: 7px;
      margin-left: 10px;
     
    }
  
    .create-contact-link {
      font-size: 9px;
      margin-bottom: 8px;
      width: 50%;  /* Make sure the link fits within the container */
      margin-top: 9.5px;
    }
  
    .logout-btn {
      font-size: 12px;
  
      margin-top: 8px;  /* Reduce margin for a more compact layout */
    }
  
    /* Adjust Profile Image */
    .mob-user-profile {
      width: 45px;
      height: 45px;
      margin-bottom: 8px;  /* Reduce bottom margin */
      margin-top: 10px;
      
    }
  }
  
@media (max-width: 600px) {
    div::-webkit-scrollbar {
      display: none;  /* For Chrome, Safari, and newer Edge */
  }
    /* Ensure the body doesn't scroll and the footer is fixed at the bottom */
    body, html {
        overflow: hidden; /* Disable scrolling on mobile */
        height: 100%;
    }

    .chat-area-footer {
        flex-direction: row;
        padding: 5px 10px;
        font-size: 14px;
    }

    .input-message {
        font-size: 14px;
        padding: 8px;
        border-radius: 25px;
        margin-right: 10px;
        width: 100%;
    }

    .classy-button {
        padding: 8px 15px;
        font-size: 14px;
    }

    .chat-area-header {
      position: fixed;  /* Fix the header at the top */
      top: 0;
      left: 0;
      width: 100%;
    
      padding: 10px 20px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      z-index: 10; /* Ensures it stays above the content */
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-sizing: border-box;
      justify-content: center; /* Center the items horizontally */
      align-items: center; /* Center the items vertically */
  }
}

@media (max-width: 768px) {
.back-button {
  position: absolute;
  left: 10px; /* Place the button on the left */
  top: 50%; /* Vertically center the button */
  transform: translateY(-50%); /* Adjust vertical position */
  background-color: #007bff;
  color: white;
  padding: 10px 15px;
  border-radius: 15px;
  text-decoration: none;
  font-size: 16px;
  z-index: 10; /* Ensure it's on top of other elements */
  display: inline-block; /* Ensure it's visible */
}

.back-button button {
  background: none;
  
  color: white;
  cursor: pointer;
}

.back-button:hover {
  background-color: #0056b3;
}

}

.no-contacts {
  list-style-type: none; /* Removes default list bullets */
  text-align: center; /* Centers the text */
  color: #888; /* Light gray color for the text */
  font-size: 16px; /* Appropriate font size */
  padding: 20px; /* Add some padding around the text */
  margin: 10px 0; /* Margin for spacing around the item */
  background-color: #f9f9f9; /* Light background color */
  border-radius: 5px; /* Rounded corners for a cleaner look */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Light shadow for subtle depth */
  font-family: Arial, sans-serif; /* Clean font for readability */
  margin-right: 33px;
}

/* Optional: Add a hover effect to make it interactive */
.no-contacts:hover {
  background-color: #f0f0f0; /* Slightly darker background on hover */
  cursor: pointer; /* Shows a pointer cursor when hovering */
}

.no-chats {
  text-align: center; /* Center the text horizontally */
  font-size: 24px; /* Large font size to emphasize the message */
  color: #333; /* Dark color for good contrast */
  background-color: #f1f1f1; /* Light background color */
  padding: 30px 20px; /* Adequate padding to space out the text */
  border-radius: 8px; /* Rounded corners for a smoother, modern look */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Soft shadow for subtle depth */
  font-family: 'Arial', sans-serif; /* Clean, sans-serif font */
  margin: 20px 0; /* Margin to create spacing around the header */
}

.no-chats::before {
  content: "💬 "; /* Add an icon before the text for visual interest */
  font-size: 30px; /* Larger icon size */
  vertical-align: middle; /* Align icon with the text */
}

.no-chats:hover {
  background-color: #e9e9e9; /* Slightly darker background on hover */
  cursor: pointer; /* Pointer cursor on hover */
}

.back-button {
  background-color: #007bff; /* A bright, eye-catching blue */
  color: white; /* White text for contrast */
  font-size: 12px; /* Standard readable font size */
  padding: 12px 20px; /* Ample padding for a comfortable click area */
  border: none; /* Remove default button border */
  border-radius: 50px; /* Rounded corners for a modern look */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Soft shadow for depth */
  cursor: pointer; /* Pointer cursor to indicate interactivity */
  transition: all 0.3s ease; /* Smooth transition for hover effects */
  font-family: 'Arial', sans-serif; /* Clean sans-serif font */
  text-transform: uppercase; /* Uppercase text for emphasis */
  letter-spacing: 1px; /* Slight letter spacing for a more polished look */
}



/* Focus effect (when tabbed into) */
.back-button:focus {
  outline: none; /* Removes the default focus outline */
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.5); /* Custom blue glow on focus */
}

/* Container for the entire chat area */
.chat-area-main {
    max-height: none;      /* Allow the container to expand as needed */
    overflow-y: visible;   /* Disable scrolling */
    padding: 10px;         /* Optional padding */
    display: flex;
    flex-direction: column; 
}

/* For the message wrapper, ensure no scrolling and full content display */
.message-wrapper {
    flex-grow: 1;          /* Make it take up available space */
    display: flex;
    flex-direction: column;
    gap: 10px;             /* Space between messages */
    overflow-y: visible;   /* Prevent scrolling within message wrapper */
}

/* Each message container */
.chat-msg {
    margin-bottom: 10px;   /* Space between messages */
    padding: 12px;         /* Padding for each message */
    border-radius: 10px;   /* Rounded corners for messages */
    background-color: #f1f1f1; /* Light background for messages */
}

/* Optional: Hide the scrollbar completely (for Webkit browsers) */
.chat-area-main::-webkit-scrollbar {
    display: none; /* Hide the scrollbar */
}

/* Responsiveness for mobile devices (optional) */
@media (max-width: 768px) {
    .chat-area-main {
        max-height: none; /* Allow full height on smaller screens */
    }
    .chat-area-main::-webkit-scrollbar {
      display: none; /* Hide the scrollbar */
  }
}


div::-webkit-scrollbar {
  display: none;  /* For Chrome, Safari, and newer Edge */
}
/* Main container for the chat */
.chat-area {
  display: flex;
  flex-direction: column;
  height: 100vh; /* Ensure full viewport height */
}

/* Header Section */
.chat-area-header {
  padding: 15px;

  height: 86px;
  z-index: 10;
  position: sticky;
  top: 0;
  width: 100%;
}

/* Profile container inside header */
.profile-container {
  display: flex;
  flex-direction: column;   /* Stack items vertically */
  align-items: center;      /* Horizontally center the profile image and title */
  justify-content: center;  /* Vertically center the content */
  height: 100%;             /* Ensure the parent container takes up full available height */
  text-align: center;       /* Center the text inside the title */
}

.profile-pic {
 
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.chat-title {
  font-size: 18px;
  font-weight: bold;
  margin: 0;                /* Remove default margin */
  line-height: 0;         /* Ensure proper spacing between lines if multiline */
  color: #888;;
}

/* Main chat messages area (scrollable) */
.chat-area-main {
  flex-grow: 1;
  overflow-y: auto;
  padding: 10px;

  /* Allow the chat area to scroll */
}

/* Message Wrapper */
.message-wrapper {
  margin-bottom: 10px;
}

.chat-msg {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}

.chat-msg-profile img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 10px;
}

.chat-msg-content {
  padding: 10px;
  border-radius: 5px;
  max-width: 70%;
}

.sent .chat-msg-content {

  color: #333;
}

.received .chat-msg-content {

  color: #333;
}

.chat-msg-date {
  font-size: 12px;
  color: #888;
}

/* Footer Section */
.chat-area-footer {

  padding: 10px 20px;

  display: flex;
  align-items: center;
  width: 100%;
  box-sizing: border-box;
  position: sticky;
  bottom: 0; /* Ensures footer stays at the bottom */
}

/* Input Field Styling */
.input-message {
  flex-grow: 1;
  padding: 8px 12px;
  border-radius: 25px;
  font-size: 14px;
}

/* Icons in the footer */
.footer-item {
  margin-right: 15px;
  cursor: pointer;
}

/* Send Button */
.classy-button {
  background-color: #007bff;
  color: white;
  padding: 10px 20px;
  border-radius: 25px;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
}

/* On larger devices, ensure that the chat content scrolls properly and the footer is visible */
@media (min-width: 768px) {
  /* Adjust layout for larger screens */
  .chat-area {
      flex-direction: column;
      height: auto; /* Allow content to stretch and ensure footer is always at the bottom */
  }
  
  .chat-area-main {
      max-height: calc(100vh - 80px); /* Adjust the chat area height to fill the space between header and footer */
      overflow-y: auto; /* Make sure the chat area is scrollable if content exceeds the view */
  }
  
  .chat-area-footer {
      position: relative;
      bottom: auto; /* Remove sticky behavior for larger screens */
  }

  .chat-area-header {
    justify-content: center;
  }
}
@media (max-width: 886px) {
  .chat-area-footer .footer-item {
    display: none;
  }
}


</style>
</head>
<body>
<div class="app">
    <div class="header">
    <div class="logo">
      <svg viewBox="0 0 513 513" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M256.025.05C117.67-2.678 3.184 107.038.025 245.383a240.703 240.703 0 0085.333 182.613v73.387c0 5.891 4.776 10.667 10.667 10.667a10.67 10.67 0 005.653-1.621l59.456-37.141a264.142 264.142 0 0094.891 17.429c138.355 2.728 252.841-106.988 256-245.333C508.866 107.038 394.38-2.678 256.025.05z" />
      <path d="M330.518 131.099l-213.825 130.08c-7.387 4.494-5.74 15.711 2.656 17.97l72.009 19.374a9.88 9.88 0 007.703-1.094l32.882-20.003-10.113 37.136a9.88 9.88 0 001.083 7.704l38.561 63.826c4.488 7.427 15.726 5.936 18.003-2.425l65.764-241.49c2.337-8.582-7.092-15.72-14.723-11.078zM266.44 356.177l-24.415-40.411 15.544-57.074c2.336-8.581-7.093-15.719-14.723-11.078l-50.536 30.744-45.592-12.266L319.616 160.91 266.44 356.177z" fill="#fff" /></svg>
    </div>
    <img class="mob-user-profile" 
src="{% if user_profile.profile_image %}
          {{ user_profile.profile_image.url }}
      {% else %}
          {% static 'images/no-profile.jpeg' %}
      {% endif %}" 
 class="account-profile">
    <div id="user-title">
  {% if user.is_authenticated %}
      <span><h1 class="username"> Welcome {{ user.username }}</h1></span>
      <input type="hidden" id="logged-in-user" value="{{ user.id }}">
  {% else %}
      Access denied. Admins only.
  {% endif %}
    </div>
  

  
    
    <div class="user-settings"> 
      <a href="{% url 'create_thread' %}" class="create-contact-link">Create contact</a>
      <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button class="logout-btn">Logout</button>
    </form>
    
      <div class="dark-light">
      <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" /></svg>
      </div>
      <div class="settings">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="3" />
        <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z" /></svg>
      </div>
      <img class="user-profile" 
src="{% if user_profile.profile_image %}
          {{ user_profile.profile_image.url }}
      {% else %}
           {% static 'images/no-profile.jpeg' %}
      {% endif %}" 
 class="account-profile">
    </div>
    </div>
    
    <div class="wrapper">
      
      <div class="conversation-area">
        {% for thread in my_variable %}
<li class="{% if thread.id == active_thread.id %}active{% endif %} contact-li" chat-id="chat_{{ thread.id }}" id="thread-{{ thread.id }}" 
  data-profile-image-url="{% if thread.first_person == user %}
                                {% if thread.second_person_profile and thread.second_person_profile.profile_image %}
                                    {{ thread.second_person_profile.profile_image.url }}
                                {% else %}
                                     {% static 'images/no-profile.jpeg' %}
                                {% endif %}
                            {% else %}
                                {% if thread.first_person_profile and thread.first_person_profile.profile_image %}
                                    {{ thread.first_person_profile.profile_image.url }}
                                {% else %}
                                     {% static 'images/no-profile.jpeg' %}
                                {% endif %}
                            {% endif %}"
  data-username="{% if thread.first_person == user %}
                      {{ thread.second_person.username }}
                  {% else %}
                      {{ thread.first_person.username }}
                  {% endif %}">
  
  <a href="javascript:void(0);" class="contact-button" data-thread-id="{{ thread.id }}">
      <div class="msg online">
          <!-- Profile Image -->
          <img class="msg-profile" src="{% if thread.first_person == user %}
                                            {% if thread.second_person_profile and thread.second_person_profile.profile_image %}
                                                {{ thread.second_person_profile.profile_image.url }}
                                            {% else %}
                                                 {% static 'images/no-profile.jpeg' %}
                                            {% endif %}
                                        {% else %}
                                            {% if thread.first_person_profile and thread.first_person_profile.profile_image %}
                                                {{ thread.first_person_profile.profile_image.url }}
                                            {% else %}
                                                {% static 'images/no-profile.jpeg' %}
                                            {% endif %}
                                        {% endif %}" alt="Profile" />
          <div class="msg-detail">
              <div class="msg-username">
                  {% if thread.first_person == user %}
                      {{ thread.second_person.username }}
                  {% else %}
                      {{ thread.first_person.username }}
                  {% endif %}
              </div>
              <div class="msg-content">
                  {% if thread.latest_message %}
                      <span class="msg-message">{{ thread.latest_message.message|slice:":30" }}...</span>
                      <span class="msg-date">{{ thread.latest_message.timestamp|date:"H:i" }}</span>
                  {% else %}
                      <span class="msg-message">No messages yet</span>
                  {% endif %}
              </div>
          </div>
      </div>
  </a>
</li>
{% empty %}
<ul>
  <li class="no-contacts">No contacts</li>
</ul>

{% endfor %}



      
    
    </div>
      <div class="chat-area">
        
        <!-- thread_detail.html -->
        {% if active_thread %}
        <div class="chat-area-header">
                  <!-- Back Button (Initially Hidden) -->
                  <button class="back-button">← Back</button>

          <div class="profile-container">
              <img src="{% if active_thread.receiver_profile.profile_image %} 
                              {{ active_thread.receiver_profile.profile_image.url }} 
                          {% else %} 
                               {% static 'images/no-profile.jpeg' %} 
                          {% endif %}" 
                  alt="Profile Picture" class="profile-pic">
              <h2 class="chat-title">
                  Chat with <span id="username">
                      {% if active_thread.first_person == user %}
                          {{ active_thread.second_person.username }}
                      {% else %}
                          {{ active_thread.first_person.username }}
                      {% endif %}
                  </span>
              </h2>
          </div>
      </div>
      {% else %}
      <h1 class="no-chats">No chats</h1>

      {% endif %}
      

      
      
      


      
      


      
      <div class="chat-area-main">
        {% for thread in my_variable %}
<div class="message-wrapper {% if thread == active_thread %}is_active{% else %}hide{% endif %}" chat-id="chat_{{ thread.id }}" other-user-id="{% if thread.first_person.id == user.id %}{{ thread.second_person.id }}{% else %}{{ thread.first_person.id }}{% endif %}">
  <div class="chat-area-main">
      {% for chat in thread.chat_message_thread.all %}
      <div class="chat-msg {% if chat.user == user %}sent{% else %}received{% endif %}">
          <div class="chat-msg-profile">
              <!-- Profile image for sender -->
              <img class="chat-msg-img" 
                    src="{% if chat.user == user %}
                              {% if thread.sender_profile.profile_image %}
                                  {{ thread.sender_profile.profile_image.url }}
                              {% else %}
                                   {% static 'images/no-profile.jpeg' %}
                              {% endif %}
                          {% else %}
                              {% if thread.receiver_profile.profile_image %}
                                  {{ thread.receiver_profile.profile_image.url }}
                              {% else %}
                                   {% static 'images/no-profile.jpeg' %}
                              {% endif %}
                          {% endif %}" 
                    alt="User's profile image">
          </div>
          <div class="chat-msg-content">
              <div class="chat-msg-text">{{ chat.message }}</div>
          </div>
          <div class="chat-msg-date">
              {{ chat.timestamp|date:"d D" }}, {{ chat.timestamp|time:"H:i" }}
          </div>
      </div>
  {% endfor %}  
  </div>
</div>
{% endfor %}
    
    </div>
    
  <div class="chat-area-footer">
<form action="" id="send-message-form">
<svg xmlns="http://www.w3.org/2000/svg" class="footer-item" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-video">
<path d="M23 7l-7 5 7 5V7z" />
<rect x="1" y="5" width="15" height="14" class="footer-item" rx="2" ry="2" />
</svg>
<svg xmlns="http://www.w3.org/2000/svg" class="footer-item" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image">
<rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
<circle cx="8.5" cy="8.5" r="1.5" />
<path d="M21 15l-5-5L5 21" />
</svg>
<svg xmlns="http://www.w3.org/2000/svg" class="footer-item" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle">
<circle cx="12" cy="12" r="10" />
<path d="M12 8v8M8 12h8" />
</svg>
<svg xmlns="http://www.w3.org/2000/svg" class="footer-item" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-paperclip">
<path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48" />
</svg>

<!-- Input Message Field -->
<input class="input-message" type="text" placeholder="Type something here..." />

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-smile">
<circle cx="12" cy="12" r="10" />
<path d="M8 14s1.5 2 4 2 4-2 4-2M9 9h.01M15 9h.01" />
</svg>

<!-- Send Button -->
<button class="classy-button">
Send<i class="fa fa-paper-plane-o"></i>
</button>
</form>
</div>

    
    </div>
    
  <div class="detail-area">
    <div class="detail-area-header">
    <div class="msg-profile group">
      <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
      <path d="M12 2l10 6.5v7L12 22 2 15.5v-7L12 2zM12 22v-6.5" />
      <path d="M22 8.5l-10 7-10-7" />
      <path d="M2 15.5l10-7 10 7M12 2v6.5" /></svg>
    </div>
    <div class="detail-title">CodePen Group</div>
    <div class="detail-subtitle">Created by Aysenur, 1 May 2020</div>
    <div class="detail-buttons">
      <button class="detail-button">
      <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" stroke-width="0" stroke-linecap="round" stroke-linejoin="round" class="feather feather-phone">
        <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z" />
      </svg>
      Call Group
      </button>
      <button class="detail-button">
      <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" stroke-width="0" stroke-linecap="round" stroke-linejoin="round" class="feather feather-video">
        <path d="M23 7l-7 5 7 5V7z" />
        <rect x="1" y="5" width="15" height="14" rx="2" ry="2" /></svg>
      Video Chat
      </button>
    </div>
    </div>
    <div class="detail-changes">
    <input type="text" placeholder="Search in Conversation">
    <div class="detail-change">
      Change Color
      <div class="colors">
      <div class="color blue selected" data-color="blue"></div>
      <div class="color purple" data-color="purple"></div>
      <div class="color green" data-color="green"></div>
      <div class="color orange" data-color="orange"></div>
      </div>
    </div>
    <div class="detail-change">
      Change Emoji
      
    </div>
    </div>
    <div class="detail-photos">
    <div class="detail-photo-title">
      <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image">
      <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
      <circle cx="8.5" cy="8.5" r="1.5" />
      <path d="M21 15l-5-5L5 21" /></svg>
      Shared photos
    </div>
    <div class="detail-photo-grid">
      <img src="https://images.unsplash.com/photo-1523049673857-eb18f1d7b578?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2168&q=80" />
      <img src="https://images.unsplash.com/photo-1516085216930-c93a002a8b01?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80" />
      <img src="https://images.unsplash.com/photo-1458819714733-e5ab3d536722?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=933&q=80" />
      <img src="https://images.unsplash.com/photo-1520013817300-1f4c1cb245ef?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2287&q=80" />
      <img src="https://images.unsplash.com/photo-1494438639946-1ebd1d20bf85?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2247&q=80" />
      <img src="https://images.unsplash.com/photo-1559181567-c3190ca9959b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1300&q=80" />
      <img src="https://images.unsplash.com/photo-1560393464-5c69a73c5770?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1301&q=80" />
      <img src="https://images.unsplash.com/photo-1506619216599-9d16d0903dfd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2249&q=80" />
      <img src="https://images.unsplash.com/photo-1481349518771-20055b2a7b24?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2309&q=80" />

      <img src="https://images.unsplash.com/photo-1473170611423-22489201d919?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2251&q=80" />
      <img src="https://images.unsplash.com/photo-1579613832111-ac7dfcc7723f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80" />
      <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2189&q=80" />
    </div>
    <div class="view-more">View More</div>
    </div>
    <a href="https://twitter.com/AysnrTrkk" class="follow-me" target="_blank">
    <span class="follow-text">
      <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1">
      <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
      </svg>
      Follow me on Twitter
    </span>
    <span class="developer">
      <img src="https://pbs.twimg.com/profile_images/1253782473953157124/x56UURmt_400x400.jpg" />
      Aysenur Turk — @AysnrTrkk
    </span>
    </a>
  </div>

</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Check if the window width is less than or equal to 768px (mobile)
    if (window.innerWidth <= 768) {
        const contactItems = document.querySelectorAll('.contact-li');  // Select all contact items
        const conversationArea = document.querySelector('.conversation-area');  // Conversation area (contact list)
        const chatArea = document.querySelector('.chat-area');  // Chat area
        const backButton = document.querySelector('.back-button');  // Back button

        // Loop through all contact items and add click event listener
        contactItems.forEach(contact => {
            contact.addEventListener('click', function() {
                // Hide the conversation area and show the chat area
                if (conversationArea && chatArea) {
                    conversationArea.classList.add('hide');  // Hide the conversation area
                    chatArea.classList.add('show');         // Show the chat area
                }

                // Show the back button when chat area is displayed
                if (backButton) {
                    backButton.classList.remove('hide');  // Show the back button
                }
            });
        });

        // Back button functionality
        if (backButton) {
            backButton.addEventListener('click', function() {
                // Hide the chat area and show the conversation area again
                if (conversationArea && chatArea) {
                    conversationArea.classList.remove('hide');  // Show the conversation area
                    chatArea.classList.add('hide');              // Hide the chat area
                }

                // Hide the back button when going back to the conversation area
                if (backButton) {
                    backButton.classList.add('hide');  // Hide the back button
                }
            });
        }
    }
});



</script>

<script>
// JavaScript to handle clicking on a contact
document.querySelectorAll('.contact-button').forEach(button => {
    button.addEventListener('click', function(e) {
        e.preventDefault();
        
        let threadId = this.getAttribute('data-thread-id');
        
        fetch(`/chat/${threadId}/`, {
            method: 'GET',
            headers: {
                'X-Requested-With': 'XMLHttpRequest'  // Tell Django it's an AJAX request
            }
        })
        .then(response => response.json())
        .then(data => {
            // Insert the returned HTML (the thread details) into the chat area
            document.getElementById('chat-area').innerHTML = data.html;
        })
        .catch(error => console.error('Error loading thread details:', error));
    });
});
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
      // Get all contact list items
      const contactItems = document.querySelectorAll('.contact-li');

      contactItems.forEach(item => {
          item.addEventListener('click', function () {
              // Get the profile image URL and username from the data-* attributes
              const profileImageUrl = item.getAttribute('data-profile-image-url');
              const username = item.getAttribute('data-username');

              // Update the profile container
              document.querySelector('.profile-pic').src = profileImageUrl;
              document.querySelector('#username').textContent = username;
          });
      });
  });
</script>
<script>
$(document).ready(function() {
  // When a contact is clicked
  $('.contact-li').click(function() {
      var threadId = $(this).data('thread-id');  // Get the selected thread ID

      // Debugging: Log the selected threadId
      console.log("Selected threadId: " + threadId);

      // Remove 'is_active' and 'hide' classes from all chat areas
      $('.message-wrapper').removeClass('is_active').addClass('hide');

      // Show the selected chat area (with matching thread ID)
      $('#chat_' + threadId).removeClass('hide').addClass('is_active');
      
      // Optional: Highlight the selected contact (active class)
      $('.contact-li').removeClass('active');  // Remove active class from all contacts
      $(this).addClass('active');  // Add active class to the clicked contact
  });
});

</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Get elements
    const backButton = document.getElementById('back-button');
    const contactList = document.querySelector('.conversation-area');
    const chatArea = document.querySelector('.chat-area');
    const header = document.querySelector('.header');

    // Show the contact list and header when back button is clicked
    if (backButton) {
        backButton.addEventListener('click', function () {
            // Hide the chat area
            chatArea.classList.add('hide');

            // Show the header and contact list
            header.classList.add('show');
            contactList.classList.add('show');
        });
    }

    // For contact item click functionality (chat area showing logic)
    const contactItems = document.querySelectorAll('.contact-li');
    contactItems.forEach(contact => {
        contact.addEventListener('click', function () {
            // Hide contact list and show chat area
            contactList.classList.remove('show');
            header.classList.remove('show');
            chatArea.classList.remove('hide');
        });
    });
});





</script>



<script src="{% static 'js/chat/chat.js' %}"></script>
<script src="{% static 'js/chat/messages.js' %}"></script>
</body>
</html>

